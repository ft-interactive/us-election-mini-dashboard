<!doctype html>
<html>
  <head>
    <title>US Election Mini Dashboard (prototype)</title>

    <link rel="stylesheet" href="https://build.origami.ft.com/v2/bundles/css?modules=o-fonts@^2.1.3" />
    <link rel="stylesheet" href="main.css" />

    <script src="https://cdn.polyfill.io/v2/polyfill.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
  </head>
  <body>
    <main></main>

    <template id="uemd-main-template">
      <section class="uemd">
        {{#each panels}}
        <article class="uemd__panel uemd__panel--{{type}}">
          <h5 class="uemd__panel-heading">{{heading}}</h5>
          <div class="uemd__panel-content">
            {{{content}}}
          </div>
        </article>
        {{/each}}
      </section>
    </template>

    <template id="uemd-template-president">
      <div class="uemd__chart-president{{#if isFinal}} final{{/if}}">
        <div class="uemd__chart-president--bars">
          <div class="uemd__chart-president--bar-container">
            <div style="width: {{clinton_pct}}%;" class="uemd__chart-president--bar-fill dem">
              Clinton <strong>{{trump}}</strong>
            </div>
            <div style="width: {{trump_pct}}%;" class="uemd__chart-president--bar-fill rep">
              Trump <strong>{{trump}}</strong>
            </div>
          </div>
        </div>
        {{#if isFinal}}
        <span class="uemd__chart-president--to-win-label">
          <hr width="1" size="48" />
          270 to win
        </span>
        {{else}}
        <div class="uemd__chart-president--best-guess">
          <div class="uemd__chart-president--bar-container">
            <div style="width: {{bestGuessClinton_pct}}%;" class="uemd__chart-president--bar-fill dem"></div>
            <div style="width: {{bestGuessTrump_pct}}%;" class="uemd__chart-president--bar-fill rep"></div>
          </div>
        </div>
        <span class="uemd__chart-president--to-win-label">
          270 to win
          <div class="uemd__chart-president--triangle"></div>
          <hr width="1" size="54" />
          Best guess
        </span>
        {{/if}}
        <div class="uemd__chart-president--footnote">
          {{footnote}}
        </div>

      </div>
    </template>

    <template id="uemd-template-senate">
      <div class="uemd__chart-senate">
        <div class="uemd__chart-senate--bars">
          <div class="uemd__chart-senate--bar-container">
            <div style="width: {{dem}}%;" class="uemd__chart-senate--bar-fill dem">
              Dem <strong>{{dem}}</strong>
            </div>

            <div style="width: {{dem_contested}}%;" class="uemd__chart-senate--bar-fill dem-contested"></div>

            {{#if ind}}
            <div style="width: {{ind}}%;" class="uemd__chart-senate--bar-fill ind"></div>
            {{/if}}

            <div style="width: {{rep}}%;" class="uemd__chart-senate--bar-fill rep">
              Rep <strong>{{rep}}</strong>
            </div>

            <div style="width: {{rep_contested}}%;" class="uemd__chart-senate--bar-fill rep-contested"></div>
          </div>
        </div>
        <span class="uemd__chart-senate--majority-label">
          <hr width="1" size="48">
          50 for majority
        </span>
        <div class="uemd__chart-senate--legend">
          <div class="dem-contested"></div>
          <div class="rep-contested"></div>
          Contested seats
        </div>
        <span class="uemd__chart-senate--footnote">
          {{footnote}}
        </span>
      </div>
    </template>

    <template id="uemd-template-house">
      <div class="uemd__chart-house">
        <div class="uemd__chart-house--bars">
          <div class="uemd__chart-house--bar-container">
            <div style="width: {{dem_pct}}%;" class="uemd__chart-house--bar-fill dem">
              Dem <strong>{{dem}}</strong>
            </div>

            <div style="width: {{rep_pct}}%;" class="uemd__chart-house--bar-fill rep">
              Rep <strong>{{rep}}</strong>
            </div>
          </div>
        </div>
        <span class="uemd__chart-house--majority-label">
          <hr width="1" size="48">
          218 for majority
        </span>
        <span class="uemd__chart-house--footnote">
          {{footnote}}
        </span>
      </div>
    </template>

    <script src="main.js"></script>
  </body>
</html>
